# Ansible Inventory file
all:
  vars:
    # Force Ansible to use plain SSH
    ansible_connection: ssh
    # SSH Options:
    #   - Disable connection multiplexing --> ControlMaster/ControlPersist/ControlPath
    #   - Force only the given private key, ignore ssh-agent --> IdentitiesOnly/IdentityAgent/AddKeysToAgent
    ansible_ssh_common_args: "-o ControlMaster=no -o ControlPersist=no -o ControlPath=none -o IdentitiesOnly=yes -o IdentityAgent=none -o AddKeysToAgent=no"
    # Tell Ansible which Python to use on the remote-host
    ansible_python_interpreter: /usr/bin/python3.10
  children:
    # Webservers Group
    remote_host_webservers:
      hosts:
        remote_host_webserver1:
          ansible_host: remote_host
          ansible_user: remote_user
          ansible_private_key_file: /var/jenkins_home/ansible/remote-key
    # Remote host webservers
    ansible_webservers:
      hosts:
        webserver_ansible1:
          ansible_host: webserver_ansible
          ansible_user: remote_user
          ansible_private_key_file: /var/jenkins_home/ansible/remote-key
          #is the same because the image is the same